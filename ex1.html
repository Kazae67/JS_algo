 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="table.css">
    <title>JS ALGO (partie 1)</title>
 </head>
 <body>
    <p id="resultat"></p>
   <h1><b>Exercice 1 TEST</b></h1>
   <p>Compter le nombre de caractères dans « Notre formation DL commence aujourd'hui »</p>
   <button onclick ="ex1()">Resultat EX 1</button>

   <h1><b>Exercice 2</b></h1>
   <p>Compter le nombre de caractères dans « Notre formation DL commence aujourd'hui »</p>
   <button onclick ="ex2()">Resultat EX 2</button>

   <h1><b>Exercice 3</b></h1>
   <p>Dans la phrase « Notre formation DL commence aujourd'hui » remplacer le mot « aujourd’hui » par le mot « demain »</p>
   <button onclick ="ex3()">Resultat EX 3</button>

   <h1><b>Exercice 4</b></h1>
   <p>Savoir si la phrase « Engage le jeu que je le gagne » est palindrome</p>
   <button onclick ="ex4()">Resultat EX 4</button>

   <h1><b>Exercice 5</b></h1>
   <p>Écrire un algorithme qui convertie franc > euro</p>
   <button onclick ="ex5()">Resultat EX 5</button>

   <h1><b>Exercice 6</b></h1>
   <p>Écrire un algorithme permettant de calculer un montant de facture à partir de la quantité
       d’articles, son prix hors taxe et un taux de TVA (exprimé en décimal. Ex : 20 % -> 0.2)</p>
   <button onclick ="ex6()">Resultat EX 6</button>

   <h1><b>Exercice 7</b></h1>
   <p>Ecrire un algorithme permettant de renvoyer la catégorie d’un enfant en fonction de son âge</p>
   <button onclick ="ex7()">Resultat EX 7</button>

   <h1><b>Exercice 8</b></h1>
    <p>Ecrire un algorithme qui renvoie la table de multiplication d’un nombre passé en paramètre</p>
    <button onclick ="ex8()">Resultat EX 8 (Console)</button>

    <h1><b>Exercice 9</b></h1>
    <p>Nous souhaitons savoir si une personne est imposable en fonction de son âge et de son sexe.
        Si la personne est une femme dont l’âge est compris entre 18 et 35 ans ou si c’est un homme de
        plus de 20 ans, alors celle-ci est imposable (sinon ce n’est pas le cas, « non imposable »).</p>
    <button onclick ="ex9()">Resultat EX 9</button>
    
    <h1><b>Exercice 10</b></h1>
    <p>A partir d’un montant à payer et d’une somme versée pour régler un achat, écrire l’algorithme qui
        affiche à un utilisateur un rendu de monnaie en nombre de billets de 10 € et 5 €, de pièces de 2 € et
        1 €.</p>
    <button onclick ="ex10()">Resultat EX 10</button>

    <h1><b>Exercice 11</b></h1>
    <p>Initialiser un tableau de x marques de voitures. Ecrire un algorithme permettant de parcourir ce
        tableau et d’en afficher le contenu (une marque de voiture par ligne). Il est également demandé
        d’afficher le nombre de marques de voitures présentes dans le tableau.
        Exemple : tableau ➔ « Peugeot », « Renault », « BMW », « Mercedes »</p>
    <button onclick ="ex11()">Resultat EX 11</button>

    <h1><b>Exercice 12</b></h1>
    <p>A partir d’une fonction personnalisée et à partir d’un tableau de prénoms et de langue associée
        (tableau contenant clé et valeur), dire bonjour aux différentes personnes dans leur langue
        respective (français ➔ « Salut », anglais ➔ « Hello », espagnol ➔ « Hola »)
        Exemple : tableau ➔ Mickaël -> FRA, Virgile -> ESP, Marie-Claire -> ENG
        </p>
    <button onclick ="ex12()">Resultat EX 12</button>
    <button>Resultat EX 12 variante (console)</button>

    <h1><b>Exercice 13</b></h1>
    <p>Calculer la moyenne générale d'un élève dont les notes sont renseignées dans un tableau (pas de
        coefficient). Elle devra être affichée avec 2 décimales.
        </p>
    <button>Resultat EX 13 (Console)</button>

    <h1><b>Exercice 14 [FREESTYLE]</b></h1>
    <p>Calculer l'âge exact d'une personne à partir de sa date de naissance (jours, mois, années).
        </p>


   <footer>
       <script>
            // exercice 1
           function ex1(){
               var ex1 = "Notre formation DL commence aujourd'hui";
               document.getElementById("resultat").innerHTML = ex1.length;
           }
           // exercice 2
           function ex2(){
               var ex2 = "Notre formation DL commence aujourd'hui";
               document.getElementById("resultat").innerHTML = ex2.split(" ").length;
           }
           // exercice 3
           function ex3(){
               var ex3 = "Notre formation DL commence aujourd'hui";
               document.getElementById("resultat").innerHTML = ex3.replace("aujourd'hui","demain", ex3);
           }
           // exercice 4
           function ex4(){
               document.getElementById("resultat").innerHTML = palindrome("Engage le jeu que je le gagne");
               function palindrome(str){
                   // \W = non-word | g = global
                   var char = /[\W_]/g;
                   var lowStr = str.toLowerCase().replace(char, '');
                   var reverseStr = lowStr.split('').reverse().join('');
                   if(reverseStr === lowStr){
                       return "Oui c'est un palindrome";
                   } else {
                       return "Non ce n'est pas un palindrome";
                   }
               }
           }
           // exercice 5
           function ex5(){
               var franc = 100.00;
               var euro = franc * 15.24;
               document.getElementById("resultat").innerHTML = "Montant en francs : " + franc + "<br>"+ franc + " francs = " + parseFloat(euro) + " Euro";
           }
           // exercice 6
           function ex6(){
               var prixHT = 9.99;
               var nbArticles = 5;
               var TVA = 0.20;
               var totalHT = nbArticles * prixHT;
               var totalTTC = nbArticles * prixHT * (1 + TVA);
               document.getElementById("resultat").innerHTML = " Prix unitaire de l’article " + prixHT + "€" + "<br>" 
               + "Quantité : " + nbArticles + "<br>" + "Taux de TVA : " + TVA + "<br>" + "Le montant de la facture à régler est de : " + totalTTC;
           }
           // exercice 7
           function ex7(){
               var age = 10;
                   if(age >= 13){
                       document.getElementById("resultat").innerHTML = "Hors catégorie";
                   }
                   else if(age >= 12){
                       document.getElementById("resultat").innerHTML = "L'enfant qui a " + age + " ans appartient à la catégorie « Cadet »";
                   } else if(age >= 10){
                       document.getElementById("resultat").innerHTML = "L'enfant qui a " + age + " ans appartient à la catégorie « Minime »";
                   } else if(age >= 8) {
                       document.getElementById("resultat").innerHTML =  "L'enfant qui a " + age + " ans appartient à la catégorie « Pupille »";
                   } else if(age >= 6) {
                       document.getElementById("resultat").innerHTML =  "L'enfant qui a " + age + " ans appartient à la catégorie « Poussin »";;
                   } else {
                       document.getElementById("resultat").innerHTML =  "Hors catégorie";
                   }
               }
            // exercice 8
            function ex8(){ 
                const number = parseInt(prompt('Entrez un entier (vérifiez la console): '));
                for(let i = 1; i <= 10; i++) {
                    const result = i * number;
                    console.log(`${number} * ${i} = ${result}`);
                }
            }
            // exercice 9
            function ex9(){
                let sexe = "homme";
                let age = 20;
                if (age >= 18 && age <= 35 && sexe == "femme"){
                    document.getElementById("resultat").innerHTML = "Age : " + age + "<br>" + "Sexe : " + sexe + "<br> La personne est imposable"; 
                }
                else if (age >= 20 && sexe == "homme"){
                    document.getElementById("resultat").innerHTML = "Age : " + age + "<br>" + "Sexe : " + sexe + "<br> La personne est imposable"; 
                }
                else{
                    document.getElementById("resultat").innerHTML = "Age : " + age + "<br>" + "Sexe : " + sexe + "<br> Dégage"; 
                }
            }
            // exercice 10
            function ex10(){
                var prix = 152;
                var verse = 200;
                var reste = verse - prix;
                
                var dix = Math.floor(reste / 10);
                var reste = reste % 10;
                var cinq = Math.floor(reste / 5);
                var reste = reste % 5;
                var deux = Math.floor(reste /2);
                var reste = reste % 2;
                var un = Math.floor(reste / 1);
                var reste = reste % 1;
                document.getElementById("resultat").innerHTML = "Rendue de monnaie : " + dix + " billet de 10€ - " + cinq + " billet de 5€ - " + deux + " pièce de 2€ - " + un + " pièce de 1€ <br>";
            }

            // exercice 11
            function ex11(){
                let marques = ["Peugeot", " Renault", " BMW", " Mercedes"];
                let total = 0;
                for (let i = 0; i < marques.length; i++) {
                    total++;
                }
                document.getElementById("resultat").innerHTML =  "Il y a " + total + " marques de voitures dans le tableau : " + marques;
                } 

            // exercice 12
            function ex12(){
                var arr = { "Salut" : "Mickaël", "Hola" : "Virgile", "Hello": "Marie-Claire" };  
                for(var key in arr)
                {
                    var value = arr[key];
                    document.write(key + " = " + value + '<br>');
                }  
            }
            function ordreNoms(noms, rappeler, ordre) {
                var tableau = [];
                for (var langue in noms) tableau.push([langue, noms[langue]]);
                
                tableau.sort(function(a, b) {
                    return a[1] < b[1] ? 1 : a[1] > b[1] ? -1 : 0
                });
                
                var length = tableau.length;
                while (length--) rappeler.call(ordre, tableau[length][0], tableau[length][1]);
                }
            // exercice 12 (variante)   
                ordreNoms({
                Salut: "Mickael",
                Hola: "Virgile",
                Hello: "Marie-Claire",
                }, function(langue, value) {
                console.log(`${langue}: ${value}`)
                });

            // exercice 13
            notes = [10, 12, 8, 19, 3, 16, 11, 13, 9];
            function moyenne(tableau) {
                var total = 0;
                var count = 0;

                tableau.forEach(function(item, index) {
                    total += item;
                    count++;
                });
                return total / count;
            }
            console.log(Math.round(moyenne(notes)*100)/100);

            // exercice 14 (remasterisé)
                function ageCalculator() {  
                    //Collecte la sortie en html et l'affiche en format date 
                    var userinput = document.getElementById("dateNaissance").value;  
                    var dateNaissance = new Date(userinput);  
                      
                    //Message d'erreur  
                    if(userinput==null || userinput==''){  
                      document.getElementById("message").innerHTML = "**Choisissez une date!";    
                      return false;   
                    }   
                      
                    //Execute si pas d'erreur
                    else {  
                    //Extrait et collecte seulement la date de date-time en string 
                    var mdate = userinput.toString();  
                    var naissanceYear = parseInt(mdate.substring(0,4), 10);  
                    var naissanceMonth = parseInt(mdate.substring(5,7), 10);  
                    var naissanceDate = parseInt(mdate.substring(8,10), 10);  
                      
                    //récupère la date actuelle du système
                    var today = new Date();  
                    //date string after broking  
                    var birthday = new Date(naissanceYear, naissanceMonth-1, naissanceDate);  
                      
                    //calcule la différence des dates
                    var diffInMillisecond = today.valueOf() - birthday.valueOf();  
                  
                    //Converti la différence en millisecondes et l'ajoute dans les variables year/day         
                    var year_age = Math.floor(diffInMillisecond / 31536000000);  
                    var day_age = Math.floor((diffInMillisecond % 31536000000) / 86400000);  
                  
                    //Si la date est identique à ajourd'hui, souhaite un joyeux anniversaire      
                    if ((today.getMonth() == birthday.getMonth()) && (today.getDate() == birthday.getDate())) {  
                            alert("Joyeux anniversaire !");  
                        }  
                          
                     var month_age = Math.floor(day_age/30);          
                     day_ageday_age = day_age % 30;  
                          
                     var tMnt= (month_age + (year_age*12));  
                     var tDays =(tMnt*30) + day_age;  
                       
                    //dateNaissance génère une erreur si la date est supérieur à celle d'aujourd'hui
                     if (dateNaissance>today) {  
                        document.getElementById("result").innerHTML = ("**Date invalide, essayez à nouveau !");  
                      }  
                      else {  
                        document.getElementById("result").innerHTML = year_age + " Années " + month_age + " mois " + day_age + " jours"  
                      }  
                   }  
                }  
                </script>   
                <center>  
                <h2 style="color: #008CBA" align="center"> Calculer votre âge <br></h2>   
                <b> Entrez une date de naissance : <input type=date id = dateNaissance>   
                <span id = "message"></span> <br><br>    
                <button type="submit" onclick = "ageCalculator()"> Calculer l'âge </button> <br><br>  
                <h3 style="color:#008CBA" id="result" align="center"></h3>   
                </center>  
       </script>
   </footer>
</body>
</html>  
